CC = gcc-13
CFLAGS = -Wall -g -static

# libnl include and library paths
LIBNL_INCLUDE = -I$(HOME)/source/package/include \
                -I$(HOME)/source/package/include/libnl3
LIBNL_LIBDIR = -L$(HOME)/source/package/lib
LIBNL_LIBS = -lnl-3 -lnl-route-3 -lnl-nf-3 \
             -lnl-xfrm-3 -lnl-idiag-3 -lnl-genl-3 -lpthread

TARGET = poc

all: $(TARGET)

$(TARGET): poc.c
	$(CC) $(CFLAGS) $(LIBNL_INCLUDE) -o $@ $< $(LIBNL_LIBDIR) $(LIBNL_LIBS)

clean:
	rm -f $(TARGET)

.PHONY: all clean
